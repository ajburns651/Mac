#!/usr/bin/env sh

# Automatically start yabai on macOS Big Sur, see yabai wiki for first time setup
sudo yabai --load-sa
yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"

# enable debug output
yabai -m config debug_output on

# global settings

# set focus follows mouse mode (options: off, autoraise, autofocus)
yabai -m config focus_follows_mouse autofocus

# set mouse follows focus mode
yabai -m config mouse_follows_focus          off

# yabai -m config window_origin_display        default

# New window spawns to the right if vertical split, or bottom if horizontal split
yabai -m config window_placement second_child

# floating windows are always on top
yabai -m config window_topmost               off

# modify window shadows (options: on, off, float)
# example: show shadows only for floating windows
yabai -m config window_shadow                on

# window opacity
yabai -m config window_opacity               off
yabai -m config window_opacity_duration      0.0
yabai -m config active_window_opacity        1.0
yabai -m config normal_window_opacity        0.90



yabai -m config window_border                off
yabai -m config window_border_width          6
yabai -m config active_window_border_color   0xff775759
yabai -m config normal_window_border_color   0xff555555
yabai -m config insert_feedback_color        0xffd75f5f

# Percentage of free space a new window takes up
yabai -m config split_ratio                  0.50

# Enabled makes it so that all windows always occupy equal space no matter how deeply nested
yabai -m config auto_balance                 off

# set mouse interaction modifier key (default: fn)
yabai -m config mouse_modifier fn

# set modifier + left-click drag to resize window (default: move)
yabai -m config mouse_action1 move

# set modifier + right-click drag to resize window (default: resize)
yabai -m config mouse_action2 resize

# New window spawns to the right if vertical split, or bottom if horizontal split
yabai -m config mouse_drop_action            swap

# general space settings
yabai -m config layout                       bsp

# padding and gap settings
yabai -m config top_padding                  12
yabai -m config bottom_padding               12
yabai -m config left_padding                 12
yabai -m config right_padding                12
yabai -m config window_gap                   09

# space labels
yabai -m space 1 --label "Main"
yabai -m space 2 --label "Lap"
yabai -m space 3 --label "Float"
yabai -m space 4 --label "Tools"
yabai -m space 5 --label "Media"
yabai -m space 6 --label "Social"
yabai -m space 7 --label "Other"

# sets layout to float for space 3 only
yabai -m config --space 3 layout             float

echo "yabai configuration loaded.."
